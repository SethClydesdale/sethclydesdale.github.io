!function(e,i){"use strict";if(e.Aniesu={active:!1,current:{ch:1,pg:1},chapter:{1:5,2:4,3:4,4:4,5:4,6:4},createViewer:function(){if(Aniesu.viewer)return!1;var e=i.createElement("DIV");e.id="aniesu_viewer",e.innerHTML='<div id="aniesu_viewer_prev" onclick="Aniesu.prev();"></div><div id="aniesu_viewer_next" onclick="Aniesu.next();"></div><div id="aniesu_viewer_page" tabindex="0" onclick="Aniesu.hideHeader();"></div><div id="aniesu_viewer_head"><div id="aniesu_viewer_close" onclick="Aniesu.close();" title="Close manga viewer"></div><div id="aniesu_viewer_title"><div id="aniesu_viewer_manga_title">Kuro no Kiseki: Agnes\' Style</div><div id="aniesu_viewer_chapter_title">Chapter 1</div></div><a id="aniesu_viewer_twitter" href="https://twitter.com/intent/tweet?hashtags=%E3%82%A2%E3%83%8B%E3%82%A8%E3%82%B9%E3%81%AE%E6%B5%81%E5%84%80&text=Kuro%20no%20Kiseki%3A%20Agnes\'%20Style%20-%20Chapter%201&url=https%3A%2F%2Fsethclydesdale.github.io%2Fprojects%2Fagnes-style%2F%3Fchapter%3D1" target="_blank" title="Share current chapter to Twitter"></a></div>',i.body.appendChild(e),Aniesu.viewer={body:e,ch_title:i.getElementById("aniesu_viewer_chapter_title"),page:i.getElementById("aniesu_viewer_page"),prev:i.getElementById("aniesu_viewer_prev"),next:i.getElementById("aniesu_viewer_next"),twitter:i.getElementById("aniesu_viewer_twitter")}},open:function(e,t,n){Aniesu.active=!0,Aniesu.current={ch:e,pg:t},Aniesu.preloadPages(e),e>1&&Aniesu.preloadPages(e-1),n||Aniesu.updateURL(e),Aniesu.viewer?Aniesu.viewer.body.style.display="":Aniesu.createViewer(),i.body.style.overflow="hidden",Aniesu.updateShareLink(),Aniesu.viewer.ch_title.innerHTML="Chapter "+Aniesu.current.ch,Aniesu.viewer.page.style.backgroundImage="url(chapters/read/chapter-"+e+"/"+t+".jpg)",Aniesu.viewer.page.focus(),Aniesu.hideHeader()},close:function(e){Aniesu.active=!1,Aniesu.viewer.body.style.display="none",i.body.style.overflow="",e||Aniesu.updateURL()},next:function(){Aniesu.chapter[Aniesu.current.ch]&&++Aniesu.current.pg>Aniesu.chapter[Aniesu.current.ch]&&(Aniesu.chapter[++Aniesu.current.ch]?(Aniesu.current.pg=1,Aniesu.updateShareLink(),Aniesu.viewer.ch_title.innerHTML="Chapter "+Aniesu.current.ch,Aniesu.updateURL(Aniesu.current.ch)):(Aniesu.current.ch--,Aniesu.current.pg--,alert("You've reached the end for now! Check back later for when new chapters are added. You can close the manga viewer by clicking the middle of the screen and then the X on the top left."))),Aniesu.current.pg==Aniesu.chapter[Aniesu.current.ch]&&Aniesu.preloadPages(Aniesu.current.ch+1),Aniesu.chapter[Aniesu.current.ch]&&(Aniesu.viewer.page.style.backgroundImage="url(chapters/read/chapter-"+Aniesu.current.ch+"/"+Aniesu.current.pg+".jpg)")},prev:function(){Aniesu.chapter[Aniesu.current.ch]&&--Aniesu.current.pg<1&&(Aniesu.chapter[--Aniesu.current.ch]?(Aniesu.preloadPages(),Aniesu.current.pg=Aniesu.chapter[Aniesu.current.ch],Aniesu.updateShareLink(),Aniesu.viewer.ch_title.innerHTML="Chapter "+Aniesu.current.ch,Aniesu.updateURL(Aniesu.current.ch)):(Aniesu.current.ch++,Aniesu.current.pg++,alert("This goes to the previous page! Click on the right side of the screen to show the next page. Click the middle of the page to show the top bar."))),1==Aniesu.current.pg&&Aniesu.preloadPages(Aniesu.current.ch-1),Aniesu.chapter[Aniesu.current.ch]&&(Aniesu.viewer.page.style.backgroundImage="url(chapters/read/chapter-"+Aniesu.current.ch+"/"+Aniesu.current.pg+".jpg)")},preloadPages:function(e){if(Aniesu.chapter[e])for(var i=Aniesu.chapter[e]+1;i-- >1;)Aniesu.preload("chapters/read/chapter-"+e+"/"+i+".jpg")},preload:function(e){(new Image).src=e},hideHeader:function(e){Aniesu.timeout&&clearTimeout(Aniesu.timeout),Aniesu.timeout=setTimeout(function(){Aniesu.viewer.page.blur(),delete Aniesu.timeout},3e3)},updateShareLink:function(){Aniesu.viewer.twitter.href="https://twitter.com/intent/tweet?hashtags=%E3%82%A2%E3%83%8B%E3%82%A8%E3%82%B9%E3%81%AE%E6%B5%81%E5%84%80&text=Kuro%20no%20Kiseki%3A%20Agnes'%20Style%20-%20Chapter%20"+Aniesu.current.ch+"&url=https%3A%2F%2Fsethclydesdale.github.io%2Fprojects%2Fagnes-style%2F%3Fchapter%3D"+Aniesu.current.ch},updateURL:function(t){e.history&&e.history.pushState&&e.history.pushState({},i.title,e.location.href.replace(e.location.hash,"").replace(e.location.search,"")+(t?"?chapter="+t:""))}},/chapter=\d+/i.test(e.location.search)){var t=Number(e.location.search.replace(/.*?chapter=(\d+).*/i,"$1"));Aniesu.chapter[t]&&Aniesu.open(t,1,!0)}i.addEventListener("keydown",function(e){if(Aniesu.active)switch(e.key.toLowerCase()){case"left":case"arrowleft":Aniesu.prev();break;case"right":case"arrowright":Aniesu.next();break;case"esc":case"escape":Aniesu.close()}}),e.onpopstate=function(){if(/chapter=\d+/i.test(e.location.search)){var i=Number(e.location.search.replace(/.*?chapter=(\d+).*/i,"$1"));Aniesu.chapter[i]&&Aniesu.open(i,1,!0)}else Aniesu.active&&Aniesu.close(!0)}}(window,document);