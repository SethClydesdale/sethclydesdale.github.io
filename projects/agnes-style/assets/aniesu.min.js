!function(e,i){"use strict";if(e.Aniesu={active:!1,current:{ch:1,pg:1},chapter:{1:5,2:4,3:4,4:4},createViewer:function(){if(Aniesu.viewer)return!1;var e=i.createElement("DIV");e.id="aniesu_viewer",e.innerHTML='<div id="aniesu_viewer_prev" onclick="Aniesu.prev();"></div><div id="aniesu_viewer_next" onclick="Aniesu.next();"></div><div id="aniesu_viewer_page" tabindex="0" onclick="Aniesu.hideHeader();"></div><div id="aniesu_viewer_head"><div id="aniesu_viewer_close" onclick="Aniesu.close();" title="Close manga viewer"></div><div id="aniesu_viewer_title"></div><a id="aniesu_viewer_twitter" href="https://twitter.com/intent/tweet?hashtags=%E3%82%A2%E3%83%8B%E3%82%A8%E3%82%B9%E3%81%AE%E6%B5%81%E5%84%80&text=Kuro%20no%20Kiseki%3A%20Agnes\'%20Style&url=https%3A%2F%2Fsethclydesdale.github.io%2Fprojects%2Fagnes-style%2F%3Fchapter%3D1" target="_blank" title="Share current chapter to Twitter"></a></div>',i.body.appendChild(e),Aniesu.viewer={body:e,title:i.getElementById("aniesu_viewer_title"),page:i.getElementById("aniesu_viewer_page"),prev:i.getElementById("aniesu_viewer_prev"),next:i.getElementById("aniesu_viewer_next"),twitter:i.getElementById("aniesu_viewer_twitter")}},open:function(e,t){Aniesu.active=!0,Aniesu.current={ch:e,pg:t},Aniesu.preloadPages(),Aniesu.viewer?Aniesu.viewer.body.style.display="":Aniesu.createViewer(),i.body.style.overflow="hidden",Aniesu.viewer.twitter.href=Aniesu.viewer.twitter.href.replace(/chapter%3D\d+/,"chapter%3D"+Aniesu.current.ch),Aniesu.viewer.title.innerHTML='<div id="aniesu_viewer_manga_title">Agnes\' Style</div><div id="aniesu_viewer_chapter_title">Chapter '+e+"</div>",Aniesu.viewer.page.style.backgroundImage="url(chapters/read/chapter-"+e+"/"+t+".jpg)",Aniesu.viewer.page.focus(),Aniesu.hideHeader()},close:function(){Aniesu.active=!1,Aniesu.viewer.body.style.display="none",i.body.style.overflow=""},next:function(){Aniesu.chapter[Aniesu.current.ch]&&++Aniesu.current.pg>Aniesu.chapter[Aniesu.current.ch]&&(Aniesu.chapter[++Aniesu.current.ch]?(Aniesu.preloadPages(),Aniesu.current.pg=1,Aniesu.viewer.twitter.href=Aniesu.viewer.twitter.href.replace(/chapter%3D\d+/,"chapter%3D"+Aniesu.current.ch),Aniesu.viewer.title.innerHTML='<div id="aniesu_viewer_manga_title">Agnes\' Style</div><div id="aniesu_viewer_chapter_title">Chapter '+Aniesu.current.ch+"</div>"):(Aniesu.current.ch--,Aniesu.current.pg--,alert("You've reached the end for now! Check back later for when new chapters are added. You can close the manga viewer by clicking the middle of the screen and then the X on the top left."))),Aniesu.chapter[Aniesu.current.ch]&&(Aniesu.viewer.page.style.backgroundImage="url(chapters/read/chapter-"+Aniesu.current.ch+"/"+Aniesu.current.pg+".jpg)")},prev:function(){Aniesu.chapter[Aniesu.current.ch]&&--Aniesu.current.pg<1&&(Aniesu.chapter[--Aniesu.current.ch]?(Aniesu.preloadPages(),Aniesu.current.pg=Aniesu.chapter[Aniesu.current.ch],Aniesu.viewer.twitter.href=Aniesu.viewer.twitter.href.replace(/chapter%3D\d+/,"chapter%3D"+Aniesu.current.ch),Aniesu.viewer.title.innerHTML='<div id="aniesu_viewer_manga_title">Agnes\' Style</div><div id="aniesu_viewer_chapter_title">Chapter '+Aniesu.current.ch+"</div>"):(Aniesu.current.ch++,Aniesu.current.pg++,alert("This goes to the previous page! Click on the right side of the screen to show the next page. Click the middle of the page to show the top bar."))),Aniesu.chapter[Aniesu.current.ch]&&(Aniesu.viewer.page.style.backgroundImage="url(chapters/read/chapter-"+Aniesu.current.ch+"/"+Aniesu.current.pg+".jpg)")},preloadPages:function(){for(var e=Aniesu.chapter[Aniesu.current.ch]+1;e-- >1;)(new Image).src="chapters/read/chapter-"+Aniesu.current.ch+"/"+e+".jpg"},hideHeader:function(e){Aniesu.timeout&&clearTimeout(Aniesu.timeout),Aniesu.timeout=setTimeout(function(){Aniesu.viewer.page.blur(),delete Aniesu.timeout},3e3)}},/chapter=\d+/i.test(e.location.search)){var t=e.location.search.replace(/.*?chapter=(\d+).*/,"$1");Aniesu.chapter[t]&&Aniesu.open(t,1)}i.addEventListener("keydown",function(e){if(Aniesu.active)switch(e.key.toLowerCase()){case"left":case"arrowleft":Aniesu.prev();break;case"right":case"arrowright":Aniesu.next();break;case"esc":case"escape":Aniesu.close()}})}(window,document);